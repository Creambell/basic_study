---시스템 계정 생성---
ALTER SESSION SET "_ORACLE_SCRIPT" = TRUE;
CREATE USER BasicStudy IDENTIFIED BY BasicStudy;
GRANT CONNECT, RESOURCE, CREATE VIEW TO BasicStudy;

--- 1차 테이블 생성 ---
-- USER 테이블
DROP TABLE "USER" CASCADE CONSTRAINTS;
CREATE TABLE "USER" (
    "USER_NO" NUMBER NOT NULL,
    "USER_NAME" VARCHAR2(20) NOT NULL,
    "USER_ID" VARCHAR2(20) NOT NULL,
    "USER_PWD" VARCHAR2(50) NOT NULL,
    "USER_EMAIL" VARCHAR2(200),
    "USER_PHONE" VARCHAR2(11),
    "USER_STATUS" CHAR(1) DEFAULT 'N' NOT NULL,
    "USER_GRADE" VARCHAR2(10) DEFAULT 'USER' NOT NULL,
    "USER_JOIN_DATE" DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT "PK_USER" PRIMARY KEY ("USER_NO")
);

-- BOARD 테이블
DROP TABLE "BOARD" CASCADE CONSTRAINTS;
CREATE TABLE "BOARD" (
    "BOARD_NO" NUMBER NOT NULL,
    "CATE_NO" NUMBER NOT NULL,
    "BOARD_WRITER_NO" NUMBER NOT NULL,
    "BOARD_WRITER_NAME" VARCHAR2(20) NOT NULL,
    "BOARD_TITLE" VARCHAR2(100) NOT NULL,
    "BOARD_CONTENT" CLOB NOT NULL,
    "BOARD_COUNT" NUMBER DEFAULT 0 NOT NULL,
    "BOARD_STATUS" CHAR(1) DEFAULT 'N' NOT NULL,
    "CREATE_DATE" DATE DEFAULT SYSDATE NOT NULL,
    "UPDATE_DATE" DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT "PK_BOARD" PRIMARY KEY ("BOARD_NO")
);

-- IMAGE 테이블
DROP TABLE "IMAGE" CASCADE CONSTRAINTS;
CREATE TABLE "IMAGE" (
    "IMG_NO" NUMBER NOT NULL,
    "BOARD_NO" NUMBER NOT NULL,
    "IMG_PATH" VARCHAR2(150) NOT NULL,
    "IMG_NAME" VARCHAR2(300) NOT NULL,
    "IMG_RENAME" VARCHAR2(100) NOT NULL,
    "IMG_ACTIVE" CHAR(1) DEFAULT 'N' NOT NULL,
    "IMG_REF_NUM" NUMBER,
    "IMG_REF_TYPE" VARCHAR2(10) NOT NULL,
    "IMG_TITLE" NUMBER DEFAULT 0 NOT NULL,
    CONSTRAINT "PK_IMAGE" PRIMARY KEY ("IMG_NO")
);

-- REPLY 테이블
DROP TABLE "REPLY" CASCADE CONSTRAINTS;
CREATE TABLE "REPLY" (
    "RE_NO" NUMBER NOT NULL,
    "RE_WRITER_NO" NUMBER NOT NULL,
    "BOARD_NO" NUMBER NOT NULL,
    "RE_CONTENT" CLOB NOT NULL,
    "CREATE_DATE" DATE DEFAULT SYSDATE NOT NULL,
    "UPDATE_DATE" DATE DEFAULT SYSDATE NOT NULL,
    "RE_STATUS" CHAR(1) DEFAULT 'Y' NOT NULL,
    "REPLY_COUNT" NUMBER DEFAULT 0,
    CONSTRAINT "PK_REPLY" PRIMARY KEY ("RE_NO")
);

-- CATEGORY 테이블
DROP TABLE "CATEGORY" CASCADE CONSTRAINTS;
CREATE TABLE "CATEGORY" (
    "CATE_NO" NUMBER NOT NULL,
    "CATE_TITLE" VARCHAR2(15) NOT NULL,
    CONSTRAINT "PK_CATEGORY" PRIMARY KEY ("CATE_NO")
);